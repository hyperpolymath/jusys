// SPDX-License-Identifier: AGPL-3.0-or-later
= JuSys (Systems Observatory)
image:https://img.shields.io/badge/License-AGPL--3.0--or--later-blue.svg[AGPL-3.0,link="https://www.gnu.org/licenses/agpl-3.0"]
image:https://img.shields.io/badge/Philosophy-Palimpsest-6a5acd.svg[Palimpsest,link="https://github.com/hyperpolymath/palimpsest-licence"]
:toc:
:toclevels: 3
:icons: font
:source-highlighter: rouge

*JuSys* is the observability layer for AmbientOps — metrics store, correlation engine, and forecasting dashboard.

[IMPORTANT]
====
*Project status:* *Specification Pending*

This repository contains governance and specifications only.
Implementation will follow the AmbientOps contract specifications.
====

== Philosophy

JuSys **observes and recommends**. It never applies changes.

[cols="1,1",options="header"]
|===
| JuSys | Other tools

| Observes
| Acts

| Correlates
| Executes

| Forecasts
| Applies

| Recommends
| Modifies

| NEVER source of truth
| May hold authoritative state
|===

== What it does

JuSys provides:

* **Metrics store** — time series data from system scans
* **Dashboard** — SolarWinds-like visualization of system health
* **Change timeline** — correlate anomalies with recent changes (ingests big-up run bundles)
* **Predictions/recommendations** — non-mutating suggestions for Operating Theatre

== Ecosystem integration

----
                    ┌───────────────────────────────────────┐
                    │         JuSys (You are here)           │
                    │                                        │
                    │  ┌─────────┐  ┌─────────┐  ┌────────┐ │
                    │  │ Metrics │  │Timeline │  │Forecast│ │
                    │  │  Store  │  │         │  │        │ │
                    │  └─────────┘  └─────────┘  └────────┘ │
                    └───────────────┬───────────────────────┘
                                    │
         ┌──────────────────────────┼──────────────────────────┐
         │                          │                          │
         ▼                          ▼                          ▼
┌─────────────────┐      ┌─────────────────┐      ┌─────────────────┐
│ Operating       │      │ Ward            │      │ PSA             │
│ Theatre         │      │ (System Weather)│      │ (workflows)     │
│ (receives recs) │      │ (displays state)│      │ (trend alerts)  │
└─────────────────┘      └─────────────────┘      └─────────────────┘
----

== Interface with Operating Theatre

JuSys interfaces with Operating Theatre (big-up) via run bundles:

* **Input**: Operating Theatre → JuSys: run bundles (snapshot/findings/plan/applied)
* **Output**: JuSys → Operating Theatre: current state, alerts, forecasts, recommended plan templates

JuSys **never applies changes**. It only provides recommendations.

== Planned capabilities

=== Metrics collection

* Disk usage over time
* Memory pressure trends
* CPU load patterns
* Network latency/jitter
* Process counts and resource consumption

=== Correlation engine

* Match anomalies to recent changes
* Identify patterns in failures
* Group related events

=== Forecasting

* "Disk will be full in 7 days at current rate"
* "Memory pressure increasing — investigate"
* "This process has been growing steadily"

=== Dashboard

* Real-time system health overview
* Historical trends
* Change timeline with annotations
* Alert management

== Implementation approach

Per AmbientOps language policy:

* **Primary**: Elixir (observability is an allowed Elixir use case)
* **Data processing**: Julia (batch analytics, forecasting)
* **Dashboard UI**: ReScript + Deno (if web-based)

[IMPORTANT]
====
JuSys is *observability only*. It MUST NOT become:

* Policy engine
* IR authority
* Config source of truth
* State mutator
====

== CLI interface (planned)

[source,bash]
----
# Check current state
jusys status

# Ingest a run bundle from Operating Theatre
jusys ingest /path/to/run-bundle/

# Get recommendations
jusys recommend

# Start dashboard
jusys dashboard

# Query metrics
jusys query "disk.usage" --since "7d"
----

== Ecosystem Analysis

For a comprehensive analysis of integration seams, failure modes, and security considerations across the entire AmbientOps System Tools ecosystem, see:

link:https://github.com/hyperpolymath/system-operating-theatre/blob/main/docs/SEAM-ANALYSIS.adoc[SEAM-ANALYSIS.adoc] in system-operating-theatre

This analysis covers:

* GenServer race condition mitigation
* Confidence scoring correctness
* O(n²) correlation optimization
* "Never source of truth" principle enforcement

== License

AGPL-3.0-or-later.
